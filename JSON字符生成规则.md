## 1 关于键的设置

-

### 1.1 示例

```javascript
const jsonStr = {
	"000": "xxxxxxxxx",
	"002": "xxxx",
	. . .
	"919": "xxxx"
}
```

-

### 1.2 解释

键的字符串一共设置3位，

第一位：作为键盘层级的表示

第二 - 三位： 作为对应层级的键盘的编号

-




## 2 关于值的设置

-

### 2.1 设置功能标志位

-

#### 2.1.1 示例

```javascript
const jsonStr = {
	"102": "01xxxx"
}
```

-

#### 2.1.2 解释

用键值的前 (n) 位表示配置位，根据不同功能，配置位的数量与功能也不同

| 01xx   | 表示                           |
| ------ | ------------------------------ |
| 第一位 | 键盘所配置的对应功能（待扩展） |
| n...   | 不同功能配置位不同             |

-

| 功能                         | 功能位字符 | 实例                                                         |
| ---------------------------- | :--------: | :----------------------------------------------------------- |
| 普通键值                     |     0      | a / b / c / abcd                                             |
| 组合键值                     |     1      | ctrl / shift + a / b / c / abcd ( < 6)                       |
| 组合组合键值（包含普通组合） |     2      | ctrl / shift + a / b / c + （ctrl / shift + a / b / c）/ （abc） |
| 普通延迟键值                 |     3      | a / b / c / abcd + 200ms + a / b / c / abcd                  |
| 组合延迟键值                 |     4      | ctrl / shift + a / b / c / abcd ( < 6) + 200ms + ....        |
| ...                          |            |                                                              |

-

### 2.2 普通键值

-

#### 2.2.1 示例

```javascript
const jsonStr = {
	"102": "002 04 4E"
}
```

-

#### 2.2.2 解释

| 字符  | 表示                                                         |
| ----- | ------------------------------------------------------------ |
| 0 02  | 0 - 普通键值功能 <br />02 - 后面普通按键的数量， 有两位，用16进制表示 |
| 04 4E | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位       |

-

### 2.3 组合键值

### 之后要有包含组合键值的功能，组合键数量都不能超过6

-

#### 2.3.1 示例

```js
const jsonStr = {
	"102": "1 C82 04 4E"
}
```

-

#### 2.3.2 解释

特殊键值表：

| 特殊键值     | 代表字符 |
| ------------ | -------- |
| LeftControl  | 0        |
| LeftShift    | 1        |
| LeftAlt      | 2        |
| Left GUI     | 3        |
| RightControl | 4        |
| RightShift   | 5        |
| RightAlt     | 6        |
| Right GUI    | 7        |

-

特殊键值数组：

```c
special_key_code[8] = {0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80};
```

-

| 13012 | 表示                                                         |
| ----- | ------------------------------------------------------------ |
| 1     | 代表组合键盘功能的 1                                         |
| C82   | C8 - 按照上面的特殊键值表的索引，在特殊键键值数组对应位置之和的十六进制数<br />2  - 之后的普通按键的数量 |
| 04 4E | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位       |

-

### 2.4 组合组合键值（包含普通组合）

-

#### 2.4.1 示例

```javascript
const jsonStr = {
	"102": "23 C82 04 4E C23 04 4E 05 001 4E"
}
```

-

#### 2.4.2 解释

| 字符     | 表示                                                         |
| -------- | ------------------------------------------------------------ |
| 23       | 2 - 组合组合键值（包含普通组合）功能 2<br />3 - 此功能组合键的数量（一共有几组组合键） |
| C82      | C8 - 按照上面的特殊键值表的索引，在特殊键键值数组对应位置之和的十六进制数<br />2  - 之后的普通按键的数量 |
| 04 4E    | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位       |
| C23      | C2 - 按照上面的特殊键值表的索引，在特殊键键值数组对应位置之和的十六进制数<br />3  - 之后的普通按键的数量 |
| 04 4E 05 | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位       |
| 001      | 00 - 表示穿插的普通按键<br />1 - 之后普通按键的数量          |
| 4E       | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位       |

-

### 2.5 普通延迟键值

延迟时间目前不能超过 999ms

-

#### 2.5.1 示例

```js
const jsonStr = {
	"101": "3 12 04 4E 2003 04 4E 05"
}
```

-

#### 2.5.2 解释

| 字符     | 表示                                                     |
| -------- | -------------------------------------------------------- |
| 3        | 普通延迟按键功能 3                                       |
| 12       | 1 - 本次功能所使用的延时数量<br />2 - 之后普通按键的数量 |
| 04 4E    | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位   |
| 2003     | 200 - 延迟的毫秒数 ms<br />3 - 之后的普通按键的数量      |
| 04 4E 05 | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位   |

-



### 2.6 组合延迟按键

#### 2.6.1 实例

```js
const jsonStr = {
	"101": "3 1C82 04 4E 200C23 04 4E 05"
}
```

#### 2.6.2 解释

| 字符     | 表示                                                         |
| -------- | ------------------------------------------------------------ |
| 3        | 普通延迟按键功能 3                                           |
| 1C82     | 1 - 本次功能所使用的延时数量<br />C8 - 按照上面的特殊键值表的索引，在特殊键键值数组对应位置之和的十六进制数<br />2 - 之后普通按键的数量 |
| 04 4E    | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位       |
| 200C23   | 200 - 延迟的毫秒数 ms<br />C2 - 按照上面的特殊键值表的索引，在特殊键键值数组对应位置之和的十六进制数<br />3 - 之后的普通按键的数量 |
| 04 4E 05 | 代表十六进制 hid usage id 码，每一个键盘的键值设置两位       |

.....

